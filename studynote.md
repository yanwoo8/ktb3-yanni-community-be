## 25.11.10 Web.v1 - BE
> ❓: 더 공부해보고 추가할 것들

- **Client**: 고객-요청자. Request-er
- **Server**: 응대자-답변자. Response-r
- `pyproject.toml`: 파이썬 프로젝트의 설정과 메타데이터를 적어놓는 구성파일
- ❓메타데이터
---
- `gunicorn`: 웹서버, WSGI 방식, 동기(한번에 하나씩 순서대로) - Flask, Django
    - pre-fork: 서버를 시작할 때 여러 개의 프로세스(일꾼)를 미리 만들어 둔다. 요청이 들어오면 놀고 있는 일꾼이 바로 처리한다.
    - WSGI (Web Server Gateway Interface): 웹서버-웹프로그램 상호작용 표준 인터페이스. 한 번에 하나씩 순서대로 처리 (동기)
- `uvicorn`: 웹서버, ASGI 방식, 비동기(여러 주문 동시 처리) - FastAPI
    - ASGI (Asynchronous Server Gateway Interface): 웹서버-웹프로그램 상호작용 표준 인터페이스 2. 여러 개를 동시에 처리 가능 (비동기)
---
- **HTTP**: Hyper-Text Transfer Protocol. 하이퍼텍스트(일반적인 텍스트를 뛰어넘는 기능이 있는 구조화된 텍스트)를 전송하는 (통신)규약.

- **HTTP Message**: 클라이언트-서버 간 통신 기본 단위.
    - Request / Response
    - 시작줄(start line): `{Method} {dir} {HTTP version}`
    - 헤더(HTTP headers): Request / General / Representation
    - 빈 줄(empty line): 헤더와 본문 구분
    - 본문(body): JSON 데이터나 HTML 문서 등 실제 내용

- **Query string**: (웹페이지-클라이언트-에 대한) 추가 정보 전달 - `GET /posts?offset=0&limit=10`
- **Path Variable**: 특정한 경로에 있는 특정 자원을 식별하는 변수 - `GET /posts/1`

- **HTTP Request Method**: HTTP 요청 방법. 서버에게 어떤 작업을 수행하길 원하는지 알리는 방법.
    - **GET**: 데이터 조회 요청 (QS: 검색, 필터링, 정렬 등의 추가적 정보 / PV: 특정 위치의 데이터 요청)
    - **POST**: 데이터 생성, 업데이트 요청 (QS:  / PV:  )
    - **PUT**: 데이터 전체 업데이트 요청 - 프로필 이미지 변경 등 (QS:  / PV:  )
    - **PATCH**: 데이터 부분 업데이트 요청 - 비밀번호 변경 등 (QS:  / PV: `PATCH /users/1`은 사용자 ID가 1인 사용자 정보의 일부 내용을 수정하는 PATCH 요청)
    - **DELETE**: 데이터 삭제 요청 (QS:  / PV: `DELETE /users/1`은 사용자 ID가 1인 사용자 정보를 삭제하는 DELETE 요청)

- **HTTP Status Code 상태 코드**: HTTP 진행 상태 플래그(표시 코드)
    - 1xx: 정보
    - 2xx: 성공
    - 3xx: 리다이렉션
    - 4xx: 클라이언트 오류
    - 5xx: 서버 오류

- **HTTP URL**: Scheme + Domain + Port + Resource path + Parameters(QS & PV)
---
- **DB (Database)**: 자료를 정보로써 활용하기 위해 구조화해놓은 데이터 모음.
- **RDB (RelationalDB)**: 자료를 정보로 활용하기 위해서 테이블 형태로 관계를 맺어 놓은 데이터 모음
- **SQL (Structured Query Language)**: DB 시스템에서 자료를 처리하기 위해 사용하는 구조화된 쿼리 언어
- **DDL 데이터 정의어**: DB 구조 변경 - 데이터베이스 생성, 테이블 추가/수정/삭제
- **DML 데이터 조작어**: 데이터 조회/추가/수정/삭제/정렬/그룹/...
- **DCL 데이터 제어어**: 사용자에게 권한 부여/취소
- `JOIN`/`VIEW`/`UNION`
---
- **단방향 해시 암호화 방식들**:
    - **md5**: 아주 예전 방식, 위험함
    - **SHA family**: 빠르지만 비밀번호용으로는 살짝 위험
    - **scrypt**: 일부러 느리게 만든 방식
    - **bcrypt**: 메모리도 많이 필요하기 만든 방식. "블로피시"라는 암호화 알고리즘 기반. 일부러 느리게 만들어서 해커가 수백만 번 시도하기 힘들게 함. 같은 비밀번호여도 매번 다른 결과 (salt 사용)
    - ❓SALT

- **Authentication 인증**: "누구인가?" 사용자의 신원을 확인(=식별)
- **Authorization 인가**: "권한이 있는가?" 사용자와 제작자 사이에 프로그램 사용 권한을 주고받는 것 - 접근 권한을 허가받는 것.
---
- **FastAPI**: Python 웹 프레임워크
- **API  (Application Programming Interface)**: 클라이언트가 서버에게 "이런 데이터 주세요"라고 요청하는 약속된 방식. 서버의 기능을 외부에서 사용할 수 있게 해주는 창구.
    - 손님은 주방이 어떻게 요리하는지 몰라도 됨. 메뉴판만 보고 주문하면 됨.
    - **API Spec**: 레고 박스에 있는 블록의 크기, 모양, 색상 등을 표시한 명세서
    - **API doc**: 레고의 기능, 사용 방법, 호환성을 기록한 명세서
    - **라이브러리**: 레고 그자체
    - 즉, API(명세서)를 기반으로 구현된 구현체가 바로 라이브러리(레고)
   
- **프레임워크**: 개발에 필요한 기본적인 기능과 규칙을 제공해 개발 과정을 단순화시켜주는 도구.
    - "어떻게" 애플리케이션을 개발할지에 대한 지침과 틀을 제공.
    - 프레임워크가 주도권을 가짐 (프레임워크가 개발자의 코드를 호출함).
    - 정해진 구조에 맞춰서 개발자가 내용을 채움.

- **라이브러리**: 개발에 필요한 기능을 호출해 재사용할 수 있는 코드의 집합.
    - "무엇을" 할 수 있는지에 대한 수단 제공.
    - 개발자가 주도권을 가짐 (개발자가 필요할 때 호출함).
---
- **stateful**: Response 후에도 이전 Request 정보(상태)를 가지고 있음.
- **stateless**: Response 후 이전 Request 정보(상태)를 잊는다. - 서버가 동시에 여러 요청 처리 용이
- **connectionless**: Response 후 아예 연결을 끊는다. - 서버가 동시에 여러 사용자(클라이언트) 처리 용이

- **세션**:
    - 서버에 저장되는 정보. 쿠키보다 더 안전함 (중요한 정보는 서버에)
    - 컴퓨터 프로세스들 사이에서, 서로를 인식한 후 데이터 송수신을 마칠 때까지의 기간.
    - 사용자별 고유 식별자(세션ID)를 생성해 사용자의 정보를 저장하고, 브라우저는 이 세션ID를 사용해서 서버와 통신.
    - 세션과 관련된 정보를, 쿠키를 이용해 유저의 컴퓨터에 작은 파일로 저장을 해두고, 쿠키에 있는 세션 정보를 가지고 서버에 접근하는 방식.
- **쿠키**:
    - 서버에서 사용자의 컴퓨터(브라우저)에 설치되는 작은 기록 정보 (텍스트) 파일.
    - 웹사이트의 방문 정보를 기억해서 개인화 서비스를 제공하려는 목적으로 사용됨.
    - 서버에 저장할 필요는 없지만, 유저들이 저장하고 싶은 정보들(오늘 하루 보지 않기, 아이디 저장, 쇼핑몰 장바구니 기능 등)을 저장하는 기능
- **web storage**: 브라우저 안의 개인 금고. 쿠키보다 더 많은 데이터를 브라우저에 저장할 수 있다.
    - **Local Storage (로컬 스토리지)**: 영구 보관함. 직접 지우지 않으면 계속 남아 있음. (예: 사용자 설정, 테마(다크모드))
    - **Session Storage (세션 스토리지)**: 임시 보관함. 브라우저 탭을 닫으면 사라짐. (예: 임시 작성 중인 글, 일회용 데이터)
    - ❓5단 분석법으로 정리해보기
- ❓**CSRF 공격**: `same_size=”lax”`로 방지
---
```
1. 사용자가 브라우저에서 버튼 클릭 (Client Side - JavaScript)
   ↓
2. API 요청 전송 (쿠키에 세션 ID 포함)
   ↓
3. 웹 서버(Uvicorn)가 요청 받음
   ↓
4. ASGI를 통해 FastAPI로 전달
   ↓
5. FastAPI가 인증/인가 확인 (bcrypt로 암호화된 비밀번호 검증)
   ↓
6. 데이터 처리 (Server Side - Python)
   ↓
7. Response 생성하여 반환
   ↓
8. 브라우저가 받아서 화면에 표시 (Client Side)
```
---
- **페이징**: 데이터를 한 번에 처리할 수 있는 적당한 크기로 나눠서 페이지 단위로 처리
    - 사용자가 한 번에 볼 만큼의 데이터를 조금씩 나눠서 보여줌
    - 한정된 용량에서 클라이언트, 서버 부하를 줄이기 위해 사용
    - ex) 보이는 게시글을 n개로 제한하고, 다음 게시글을 볼 수 있는 인덱스=네비게이션(고유명사로 '페이지네이션')을 제공.
    - **FastAPI-paging**: `offset`값과 `limit`값

- **log**: 컴퓨터 등에 접속한 기록 등이 컴퓨터 내에 남아있는 것
- **log file**: 운영체제나 다른 소프트웨어가 실행 중에 발생하는 이벤트나 각기 다른 사용자의 통신 소프트웨어 간의 메시지를 기록한 파일
    - 에러 로그 / SQL 로그 / 접속 로그 (HTTP) / 이벤트 로그 (API 통신 로그)
    - 에러, sql, 접속, 이벤트 등 여러가지 상황이 실행되거나 실행된 후에 로그를 볼 수 있도록 파일로 남긴다.

- **REST API**: REST 아키텍처 스타일을 따르는 응용 프로그램 인터페이스.

    REST 아키텍처 스타일:
    - 리소스명은 동사가 아닌 명사를 사용한다.
    - 자원의 행위는 HTTP 메소드로 한다.
    - 슬래시(/)는 계층관계를 나타낼 떄 사용한다.
    - 소문자를 쓴다.
    - 밑줄(_) 말고 하이픈(-)을 쓴다.
    - 확장자(.txt 등)를 사용하지 않는다.
    - URL의 마지막에 슬래시(/)를 포함하지 않는다.
    - 등등...

- **디자인패턴**: 자주 사용하는 설계 형태를 템플릿으로 만들어둔 것. ❓어떤 종류가 있나? (그놈의 싱글톤)


- ❓JSON-Response
- ❓타임아웃 미들웨어
- ❓rate-limit 미들웨어
- ❓비지니스 로직과 routes, controller, model
- ❓dot.env